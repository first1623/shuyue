<!--pages/detail/detail.wxml-->
<view class="container">
  <!-- åŠ è½½ä¸­ -->
  <view wx:if="{{loading}}" class="loading-state">
    <text>åŠ è½½ä¸­...</text>
  </view>

  <view wx:else class="detail-content">
    <!-- å°é¢åŒºåŸŸ -->
    <view class="cover-section">
      <image 
        class="cover-image" 
        src="{{pdf.cover}}" 
        mode="aspectFit"
        lazy-load>
      </image>
    </view>

    <!-- åŸºæœ¬ä¿¡æ¯ -->
    <view class="info-section">
      <text class="book-title">{{pdf.title}}</text>
      <text class="book-author">ä½œè€…ï¼š{{pdf.author}}</text>
      <view class="book-meta">
        <text class="meta-item">{{pdf.pages}} é¡µ</text>
        <text class="meta-item">é˜…è¯» {{pdf.viewCount || 0 }} æ¬¡</text>
      </view>
    </view>

    <!-- ç®€ä»‹ -->
    <view class="desc-section" wx:if="{{pdf.description}}">
      <text class="section-title">ç®€ä»‹</text>
      <text class="book-desc">{{pdf.description}}</text>
    </view>

    <!-- æ“ä½œæŒ‰é’® -->
    <view class="action-section">
      <button 
        class="btn-favorite {{isFavorite ? 'active' : ''}}"
        bindtap="toggleFavorite">
        <text class="heart-icon">{{isFavorite ? 'â¤ï¸' : 'ğŸ¤'}}</text>
        <text>{{isFavorite ? 'å·²æ”¶è—' : 'æ”¶è—'}}</text>
      </button>
      
      <button 
        class="btn-read"
        bindtap="startReading">
        <text>å¼€å§‹é˜…è¯»</text>
      </button>
    </view>

    <!-- ç¿»é¡µé¢„è§ˆæç¤º -->
    

    <!-- è¯•è¯»éƒ¨åˆ† -->
    <view class="preview-section" wx:if="{{previewImages.length > 0}}">
      <text class="section-title">è¯•è¯»</text>
      <scroll-view class="preview-scroll" scroll-x>
        <image 
          wx:for="{{previewImages}}" 
          wx:key="index"
          class="preview-image"
          src="{{item}}"
          mode="aspectFit"
          lazy-load>
        </image>
      </scroll-view>
    </view>
  </view>
</view>
